# .gitignore 文件

> Git 忽略文件

### 提示
[windows 系统如何创建以点.开头的文件？](../Windows/startwithdot.md)

### 说明
文件 `.gitignore` 的格式规范如下：
- 所有`空行`或者以 `#` 开头的行都会被 Git 忽略。
- 可以使用标准的 glob 模式匹配。
- 匹配模式可以以 `/` 开头防止递归。
- 匹配模式可以以 `/` 结尾指定目录。
- 要忽略指定模式以外的文件或目录，可以在模式前加上惊叹号 `!` 取反。

所谓的 glob 模式是指 shell 所使用的简化了的正则表达式。 
- 星号 `*` 匹配零个或多个任意字符。
- `[abc]` 匹配任何一个列在方括号中的字符（这个例子要么匹配一个 a，要么匹配一个 b，要么匹配一个 c）。
- 问号 `?` 只匹配一个任意字符。
- 如果在方括号中使用短划线分隔两个字符，表示所有在这两个字符范围内的都可以匹配（比如 `[0-9]` 表示匹配所有 0 到 9 的数字）。
- 使用两个星号 `**` 表示匹配任意中间目录，比如`a/**/z` 可以匹配 `a/z`, `a/b/z` 或 `a/b/c/z`等。

官方说明链接 <https://git-scm.com/book/zh/v2/Git-%E5%9F%BA%E7%A1%80-%E8%AE%B0%E5%BD%95%E6%AF%8F%E6%AC%A1%E6%9B%B4%E6%96%B0%E5%88%B0%E4%BB%93%E5%BA%93#%e5%bf%bd%e7%95%a5%e6%96%87%e4%bb%b6>

### 示例
- `# 说明一下` 注释说明
- `/.idea/` 忽略根目录下的某个文件夹(注意最前面有斜杠 / )
- `test/` 忽略目录 test 下的全部内容，注意，不管是根目录下的 /test/ 目录，还是某个子目录 /child/test/ 目录，都会被忽略
- `*.swp` 忽略所有 *.swp 文件
- `Thumbs.db` `/test/do.c` 忽略某个具体文件
- `!.gitignore` `!/fw/sf/` 避免忽略规则来忽略某个具体文件或某个文件夹

### 技巧

##### Git 根据忽略文件(后加入忽略)来刷新工作目录

后来加入到 .gitignore 中的文件，git 默认还是不理睬它们的，因为 git 有一个缓存的机制。解决方法如下：
1. 进入工作目录，重置所有缓存(注意后面有个.)  
	 `git rm -r --cached .`
2. 还原  
   `git reset --hard "最新的commit id"`

### 参考
- <https://github.com/github/gitignore>